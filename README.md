# distributed-lock
基于Redis , Zookeeper  实现分布式锁 
### 分布式锁需要处理的问题
#### 1、互斥性
保证一个时刻只有一个线程获取到锁
#### 2、锁持有人解锁
需要保证当前锁持有线程才能去解锁，非锁的持有者不允许解锁
#### 3、防止死锁
当程序异常、服务宕机情况下，锁可以释放
#### 4、可重入
当同一个线程已经获取到锁时，无需再次竞争锁
#### 5、当锁丢失后问题
当锁丢失后，保证数据幂等处理，例如：redis主从模式、哨兵模式 ，主服务宕机，数据未及时同步，存在数据丢失，则可能锁丢失。未起到锁的效果，则业务处理需要保证幂等性。
### Redis 实现分布式锁
#### 优点
1、性能高效
#### 缺点
1、不易处理方式死锁问题
### Zookeeper 实现分布式锁
### 优点
1、对锁监控容易，不易出现死锁
### 缺点
1、性能较低
### 锁的类型
- 公平与与非公平
+ 公平锁
+ 非公平锁
- 读与写
+ 写互斥
+ 读共享







